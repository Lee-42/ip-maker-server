# Cloudflare 介绍

Cloudflare 是一家全球知名的网络性能和安全公司。

简单来说，它就像是**互联网的“超级保安”和“加速器”**。它位于用户（访客）和你的服务器之间，充当了一个巨大的**反向代理（Reverse Proxy）**。

## 1. 核心功能

- **CDN（内容分发网络）**：
  - **加速访问**：Cloudflare 在全球 300 多个城市都有服务器节点。当用户访问你的网站时，Cloudflare 会把内容缓存在离用户最近的节点上，从而让网站加载速度变快。
  - **节省带宽**：很多静态资源（图片、CSS、JS）直接由 Cloudflare 提供，不再消耗你源服务器的流量。

- **安全防护（WAF & DDoS）**：
  - **隐藏真实 IP**：用户访问的是 Cloudflare 的 IP，攻击者找不到你源服务器的真实 IP，从而保护服务器不被直接攻击。
  - **防 DDoS 攻击**：当有人发起大规模流量攻击时，Cloudflare 庞大的网络能帮你抗住这些流量，保证你的网站不被打挂。
  - **Web 应用防火墙 (WAF)**：自动拦截 SQL 注入、跨站脚本等常见的黑客攻击。

- **DNS 解析**：
  - Cloudflare 提供全球最快的 DNS 解析服务之一（1.1.1.1 就是他们的）。它的 DNS 生效速度极快，且支持强大的 API 管理。

- **隧道服务 (Cloudflare Tunnel / Zero Trust)**：
  - **内网穿透**：即使你的服务器没有公网 IP（比如在家里或内网中），通过 Cloudflare Tunnel 也能让外界安全地访问此服务，而无需在路由器上开端口。

- **Serverless 计算 (Cloudflare Workers)**：
  - 允许你在 Cloudflare 的边缘节点上运行 JavaScript/Rust/Python 代码，无需自己购买和运维服务器。

## 2. 为什么用它？（主要优势）

- **免费计划非常良心**：对于个人开发者和中小网站，Cloudflare 的免费版（Free Plan）提供了无限制的 DDoS 防护、CDN 加速和 SSL 证书，这在业界是极其罕见的。
- **一键 SSL/HTTPS**：只需将域名接入 Cloudflare，它就能自动为你申请并部署 SSL 证书，让你轻松拥有 `https://`。
- **简单易用**：界面友好，很多功能（如“五秒盾”防御模式）只需一个开关即可开启。

## 3. 常见使用场景

- **个人博客/网站加速**：让网站在全球访问都变快。
- **隐藏服务器 IP**：防止服务器被攻击。
- **家庭实验室 (HomeLab)**：通过 Tunnel 将家里的 NAS 或 Portainer 暴露给公网访问，且不需要公网 IP。
- **API 接口保护**：保护后端 API 免受恶意刷接口攻击。

## 4. 你的后端开发在做什么？

当你让后端“把应用拿一个域名放上去”时，他打开 Cloudflare 主要是为了做两件事：**DNS 解析** 和 **开启代理（小橘云）**。

### 具体步骤如下：

1.  **添加 DNS 记录**：
    - 他会在 Cloudflare 的 DNS 设置里新增一条记录（通常是 A 记录或 CNAME 记录）。
    - 例如：`subdomain.example.com` 指向 `123.45.67.89`（你的服务器 IP）。
    - 这告诉互联网：“当有人访问 `subdomain.example.com` 时，请去这里找它。”

2.  **开启“小橘云” (Proxy Status)**：
    - 在添加记录时，右边有个云朵图标。他会确保这个图标是**橘色**的（Proxied），而不是灰色（DNS Only）。
    - **这就是核心魔法所在！** 一旦点亮这个橘色云朵：
      - **自动 SSL**：你的域名瞬间就拥有了 HTTPS 证书，后端不需要去服务器上自己申请和配置繁琐的 Nginx 证书文件。
      - **隐身模式**：用户 ping 你的域名，看到的是 Cloudflare 的 IP，而不是你服务器的真实 IP，保护了后端服务器。
      - **加速和缓存**：Cloudflare 开始为你接管该域名的流量，进行优化。

所以，对后端开发来说，打开 Cloudflare 是**最快、最省事、最安全**的上线方式。

## 5. 总结

如果说 AWS/阿里云是**租房子的**（提供服务器），那么 Cloudflare 就是**小区保安+快递柜**（保护安全+加速内容分发）。对于任何拥有域名的开发者来说，把域名接入 Cloudflare 几乎是“标准动作”。
